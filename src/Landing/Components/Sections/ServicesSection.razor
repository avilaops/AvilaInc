@inject Landing.Services.ScrollService ScrollService
@using Landing.Models

<section class="section">
    <div class="container">
        <h2 class="section__title reveal">Nossos ServiÃ§os</h2>
        
        <div class="grid reveal">
            @foreach (var service in Services)
            {
                <div class="card">
                    <div class="card__icon">@service.Icon</div>
                    <h3 class="card__title">@service.Title</h3>
                    <p class="card__text">@service.Description</p>
                    <button class="btn btn--primary" type="button" @onclick="() => ContactForService(service.Title)">
                        @service.ButtonText
                    </button>
                </div>
            }
        </div>
    </div>
</section>

@code {
    private List<ServiceCard> Services = new()
    {
        new() { Icon = "ğŸŒ", Title = "Desenvolvimento de Sites", Description = "Sites modernos, rÃ¡pidos e responsivos. Do layout atÃ© o lanÃ§amento, cuidamos de tudo para vocÃª." },
        new() { Icon = "ğŸ“Š", Title = "Sistema de Analytics PrÃ³prio", Description = "Tenha seus prÃ³prios dados, sem limites e com privacidade total." },
        new() { Icon = "ğŸš€", Title = "AutomaÃ§Ã£o de Marketing", Description = "Automatize emails, captaÃ§Ã£o de leads e funis de venda. Mais resultados com menos esforÃ§o." },
        new() { Icon = "ğŸ’¬", Title = "Chat ao Vivo", Description = "Converse com seus clientes em tempo real. Widget personalizÃ¡vel e integrado ao seu sistema." },
        new() { Icon = "ğŸ”—", Title = "IntegraÃ§Ãµes", Description = "Conecte pagamentos, e-mail e ferramentas de IA para tudo funcionar junto automaticamente." },
        new() { Icon = "ğŸ‘¥", Title = "CRM Completo", Description = "Gerencie leads, contatos e campanhas em um sÃ³ lugar. Simples, poderoso e fÃ¡cil de usar." }
    };

    private async Task ContactForService(string serviceName)
    {
        var message = $"OlÃ¡! Tenho interesse em {serviceName}. Podemos conversar?";
        var url = ScrollService.BuildWhatsAppUrl("5511987654321", message);
        await ScrollService.OpenNewTabAsync(url);
    }
}
